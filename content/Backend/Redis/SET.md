## SET类型
- 新的存储需求: 存储大量的数据,在查询方面提供更高效率
- 需要保存大量的数据,高效的内部存储机制,便于查询
- SET类型与Hash存储结构完全相同,仅存储键,不存储值,并且值是不允许重复的

### SET类型数据的基本操作
- 添加数据
```
sadd key number 1 [number2]
```
- 显示数据
```
smembers key
```
- 删除数据
```
srem keys number
```
- 获取集合数量
```
scard key
```
- 判断集合中是否包含指定数据
```
sismember key number
```

### SET类型数据的扩展操作
- 随机获取集合中指定数量的数据(50条数据随机抽出15条,但总的不变还是50条)
```
srandmember key [count]  
```
- 随机获取集合中的某个数据并将该数据移出集合(50条数据随机抽出10条还剩40条)
```
spop key
```

### SET类型数据的扩展操作
- 求两个集合的交、并、差集
```
sinter key1 key2
sunion key1 key2
sdiff  key1 key2
```

- 求两个集合的交、并、差集存储到指定集合中
```
sinterstore dest key1 key2

```
- 将指定数据从原始集合中移动到目标集合中
```

smove keys1 keys2 dest

```
Tips 8:
- redis应用于各种信息推荐类,微信公众号多少个朋友关注了等等

### SET注意事项
- SET类型不允许数据重复,如果添加的数据在SET中已经存在,将只保留一份
- SET虽然与Hash的存储结构相同,但是无法启用Hash中存储值的空间

### 应用场景
- 校验
- 黑白名单
- 访问量统计:
统计网站的PV(访问量),UV(独立访客),IP(独立IP)
PV: 网站被访问次数,可通过刷新页面提高访问量
UV:网站被不同用户访问次数,可通过cookie统计访问量,相同用户切换IP地址,UV不变
IP:网站被不同IP访问的总次数,可通过IP地址统计访问量,相同IP不同用户访问,IP不变
解决方案: 利用SET集合的数据去重特征,记录各种访问数据
- 建立string类型数据,利用incr统计日访问量(PV）
- 建立SET模型,记录不同的cookie数量(UV)
- 建立SET模型,记录不同的IP数量


### Question: Redis提供基础数据还是提供校验结果
个人建议提供基础数据,不建议使用Redis给程序提供校验结果。



